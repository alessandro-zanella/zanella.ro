<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Zanella Lounge</title>
  <meta name="description" content="Zanella Lounge ‚Äî a smart‚Äëcasual lounge to eat, drink, and socialize in an elegant, modern setting." />
  <!-- PWA / mobile chrome hints -->
  <meta name="theme-color" content="#171b1f">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="/manifest.json">

  <!-- External stylesheet (shared) -->
  <link rel="stylesheet" href="assets/styles.css">

  <!-- removed long inline <style> block; styles moved to assets/styles.css -->
</head>
<body>
  <div class="ambient" aria-hidden="true"></div>
  <canvas id="particles" aria-hidden="true"></canvas>

  <div class="nav">
    <div class="container nav-inner">
      <a href="https://zanella.ro/index.html" class="brand" aria-label="Zanella Lounge">
        <img src="assets/ZANELLA%20LOGO%20WHITE.png" alt="Zanella Lounge" style="padding:5px; padding-right:40px; height:28px; display:block; object-fit:contain;">
      </a>
      <nav class="nav-links" aria-label="Primary">
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </div>

  <section id="core" class="hero section" aria-label="Core Offer">
    <div class="hero-media" id="heroMedia" aria-hidden="true"></div>
    <div class="hero-overlay" aria-hidden="true"></div>
    <div class="hero-content container">
      <div class="chip chip--green" style="margin-bottom:10px">Elegance ‚Ä¢ Warm industrial ‚Ä¢ Green Accents</div>
      <h1 id="heroHeadline">Dine. Drink. <span class="accent">Gather.</span></h1>
      <p id="heroSub">Grey concrete, warm wood, and fresh greenery‚Äîan elegant setting for social nights.</p>
      <div class="hero-ctas">
        <a class="btn btn-gold" href="#contact">Contact</a>
        <a class="btn btn-ghost" href="#about">Zanella Lounge</a>
        <a class="btn btn-gold" href="#menuSection">Menu</a>
      </div>
    </div>
  </section>

  <section id="about" class="about section">
    <div class="container">
      <div class="grid grid-2">
        <div class="reveal">
          <h2>About Us</h2>
          <p>ZANELLA Lounge is a quiet-luxury social space in Cluj-Napoca, designed for those who value connection over chaos. With a warm industrial aesthetic of concrete, wood, plants, and curated light, every detail is intentional ‚Äî from hosted service to signature cocktails built on local botanicals. Limited Social Suites ensure your night feels exclusive, effortless, and unforgettable.</p>
          <div class="features">
            <span class="chip"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 12h16M4 12c0-4 3-7 8-7s8 3 8 7M4 12c0 4 3 7 8 7s8-3 8-7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg> Elevated Comfort Food</span>
            <span class="chip chip--green"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 20l6-16 6 16M9.5 12h5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg> Craft Cocktails</span>
            <span class="chip"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg> Music & Social Nights</span>
          </div>
          <div style="height:48px;" aria-hidden="true"></div>
        </div>
        <div class="card reveal" style="overflow:hidden">
          <div style="aspect-ratio:4/3; background:linear-gradient(135deg, rgba(135,167,122,.1), rgba(195,154,107,.1)), url('assets/zanella_lounge_location_preview.jpg') center/cover; filter:saturate(.96) contrast(.97) brightness(.95)"></div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Menu ‚Äî embedded collapsible menu (toggle below) -->
  <section id="menuSection" class="section">
    <div class="container">
      <div class="reveal">
        <div class="bg-panel">
          <h2>Menu</h2>
          <p class="inline-note">Tap the button to show or hide a sample of our menu.</p>
        </div>
        <div style="margin-top:12px;">
          <button id="menuToggleBtn" class="btn btn-gold" aria-expanded="false" aria-controls="embeddedMenu">Show Menu</button>
        </div>

  <div id="embeddedMenu" class="card embedded-menu-wrapper" style="margin-top:14px; padding:16px;" aria-hidden="true">
          <div class="premium-panel">
            <canvas class="premium-canvas" id="premiumCanvas" aria-hidden="true"></canvas>
            <h3 style="margin:0">üåü Exclusive &amp; Premium Highlights</h3>
            <div class="premium-note">(Curated for refined tastes)</div>
            <div style="margin-top:.6rem">
              <div class="premium-row"><div class="meta">Dom P√©rignon Brut Vintage (750ml Bottle)</div><div class="price">1,200 lei</div></div>
              <div class="premium-row"><div class="meta">Hennessy XO Cognac (40 ml)</div><div class="price">150 lei</div></div>
              <div class="premium-row"><div class="meta">Clase Azul Reposado Tequila (40 ml)</div><div class="price">180 lei</div></div>
              <div class="premium-row"><div class="meta">Johnnie Walker Blue Label (40 ml)</div><div class="price">140 lei</div></div>
              <div class="premium-row"><div class="meta">Macallan 18 Sherry Oak (40 ml)</div><div class="price">220 lei</div></div>
              <div class="premium-row"><div class="meta"><strong>Zanella Gold Martini</strong><div style="font-size:.9rem; color:rgba(255,255,255,.9)">Our signature luxury cocktail with saffron &amp; 24k gold leaf.</div></div><div class="price">220 lei</div></div>
            </div>
          </div>

          <h3 style="margin:0 0 .4rem">üç∏ ZANELLA LOUNGE ‚Äî DRINKS MENU</h3>
          <div class="pricing-list">
            <h4 style="margin:.6rem 0 0">Beers</h4>
            <div class="pricing-row"><div class="meta">Local Draft (0.5 L)</div><div class="price">18 lei</div></div>
            <div class="pricing-row"><div class="meta">Premium Imported Bottle</div><div class="price">22 lei</div></div>

            <h4 style="margin:.8rem 0 0">Wines by the Glass (150 ml)</h4>
            <div class="pricing-row"><div class="meta">House White / Red</div><div class="price">22 lei</div></div>
            <div class="pricing-row"><div class="meta">Premium Selection</div><div class="price">30 lei</div></div>

            <h4 style="margin:.8rem 0 0">Spritz &amp; Light</h4>
            <div class="pricing-row"><div class="meta">Aperol Spritz</div><div class="price">32 lei</div></div>
            <div class="pricing-row"><div class="meta">Hugo Spritz</div><div class="price">32 lei</div></div>
            <div class="pricing-row"><div class="meta">Ros√© Spritz</div><div class="price">30 lei</div></div>

            <h4 style="margin:.8rem 0 0">Cocktails</h4>
            <div class="pricing-row"><div class="meta">Gin &amp; Tonic</div><div class="price">35 lei</div></div>
            <div class="pricing-row"><div class="meta">Mojito</div><div class="price">38 lei</div></div>
            <div class="pricing-row"><div class="meta">Cuba Libre</div><div class="price">35 lei</div></div>
            <div class="pricing-row"><div class="meta">Whiskey Sour</div><div class="price">42 lei</div></div>
            <div class="pricing-row"><div class="meta">Negroni</div><div class="price">45 lei</div></div>
            <div class="pricing-row"><div class="meta">Espresso Martini</div><div class="price">42 lei</div></div>

            <h4 style="margin:.8rem 0 0">Zanella Signatures</h4>
            <div class="pricing-row"><div class="meta"><strong>Zanella Special</strong><div style="font-size:.9rem; color:var(--muted)">Our signature creation, seasonal flavors &amp; premium spirits.</div></div><div class="price">48 lei</div></div>
            <div class="pricing-row"><div class="meta"><strong>Seasonal Premium Cocktail</strong><div style="font-size:.9rem; color:var(--muted)">Limited edition, crafted fresh for the moment.</div></div><div class="price">45 lei</div></div>

            <h4 style="margin:.8rem 0 0">Shots &amp; Straight</h4>
            <div class="pricing-row"><div class="meta">Classic Shot (Vodka, Gin, Rum)</div><div class="price">15 lei</div></div>
            <div class="pricing-row"><div class="meta">Premium Shot (Tequila, Single Malt)</div><div class="price">25 lei</div></div>

            <h4 style="margin:.8rem 0 0">Non-Alcoholic</h4>
            <div class="pricing-row"><div class="meta">Soft Drinks (Cola, Tonic, Juice)</div><div class="price">12 lei</div></div>
            <div class="pricing-row"><div class="meta">Virgin Mojito / Berry Lemonade</div><div class="price">20 lei</div></div>
            <div class="pricing-row"><div class="meta">Water (0.33 L)</div><div class="price">10 lei</div></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Events ‚Äî host your evening at Zanella Lounge -->
  <section id="events" class="section">
    <div class="container">
      <div class="grid grid-2">
        <div class="reveal">
          <h2>Host Your Evening With Us</h2>
          <p>Whether it's a birthday, product launch, intimate concert, or a curated tasting for friends and colleagues, ZANELLA Lounge offers a warm-industrial setting with hosted service and craft cocktails. We handle the details so you can focus on the moment ‚Äî sound, lighting, and a menu tailored to your night.</p>
          <ul style="margin-top:1rem; list-style:none; padding:0; display:grid; gap:.6rem;">
            <li class="chip">Dedicated host & curated cocktail programme</li>
            <li class="chip chip--green">Flexible seating & private Social Suites</li>
            <li class="chip">Onsite AV options and customizable playlists</li>
          </ul>
          <p style="margin-top:1rem" class="inline-note">Interested? Reach out to discuss dates, menus, and capacity ‚Äî we‚Äôll prepare a personalised proposal.</p>
          <div style="margin-top:1rem; display:flex; gap:.6rem; flex-wrap:wrap">
            <a class="btn btn-gold" href="#contact">Enquire About Hosting</a>
            <a class="btn btn-ghost" href="#about">See The Lounge</a>
          </div>
        </div>

        <div class="card reveal" style="padding:20px; overflow:hidden">
          <div style="aspect-ratio:4/3; border-radius:12px; overflow:hidden; background:linear-gradient(135deg, rgba(135,167,122,.08), rgba(195,154,107,.08)), url('assets/zanella_lounge_location_preview.jpg') center/cover; filter:saturate(.96) contrast(.97) brightness(.95)"></div>

          <div style="margin-top:14px; display:grid; gap:.6rem">
            <h3 style="margin:0">Pricing & Packages</h3>
            <p class="inline-note" style="margin:0">Starting rates (RON). Final quote depends on date, guest count and any bespoke requests.</p>

            <div style="margin-top:8px">
              <button id="pricingToggleBtn" class="btn btn-ghost" aria-controls="embeddedPricing" aria-expanded="false">Show rental pricing</button>
            </div>

            <div id="embeddedPricing" class="bg-panel embedded-panel" style="margin-top:12px; padding:12px;" aria-hidden="true">
              <div class="pricing-list">
              <div class="pricing-row">
                <div class="meta">
                  <strong>Hourly Hire</strong>
                  <div style="font-size:.9rem; color:var(--muted)">Pay per hour ‚Äî ideal for short gatherings (min. 2 hours)</div>
                </div>
                <div class="price">RON 200 / orƒÉ</div>
              </div>

              <div class="pricing-row">
                <div class="meta">
                  <strong>Multi‚ÄëHour Package (3h)</strong>
                  <div style="font-size:.9rem; color:var(--muted)">Recommended for intimate events and tastings ‚Äî includes welcome aperitivo</div>
                </div>
                <div class="price">RON 520</div>
              </div>

              <div class="pricing-row">
                <div class="meta">
                  <strong>Evening Hire (5h)</strong>
                  <div style="font-size:.9rem; color:var(--muted)">Standard evening slot ‚Äî semi‚Äëprivate layout and dedicated host</div>
                </div>
                <div class="price">RON 950</div>
              </div>

              <div class="pricing-row">
                <div class="meta">
                  <strong>Full‚ÄëDay Hire (10h)</strong>
                  <div style="font-size:.9rem; color:var(--muted)">Exclusive use, bespoke menu & staffing options</div>
                </div>
                <div class="price">RON 1.700+</div>
              </div>
              </div>
            </div>

            <p class="inline-note" style="margin:.6rem 0 0">Extras (live music, AV, custom menu, cocktails) are quoted separately. Contact us for availability and a personalised proposal.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section style="padding-bottom: 10px;" id="contact" class="section">
    <div class="container grid grid-2">
      <div class="reveal">
      <div class="bg-panel">
        <h2>Contact</h2>
        <p class="inline-note">Questions about private bookings or upcoming events? Drop us a note.</p>
        <p class="inline-note" style="margin-top:.6rem">Prefer to reach us directly? Call or email ‚Äî we'll get back shortly.</p>
      </div>
        <div id="contactInfo" style="display:grid; gap:.6rem; align-items:start">
          <div style="display:flex; gap:.6rem; flex-wrap:wrap">
            <a class="btn btn-green" href="tel:+40123456789" aria-label="Call Zanella Lounge">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M22 16.92v3.08a1 1 0 0 1-1.08 1A19 19 0 0 1 3.08 3.08 1 1 0 0 1 4.08 2h3.08a1 1 0 0 1 1 .75c.12.5.32 1.02.6 1.5l-.9.9a1 1 0 0 0-.22 1.11 12.36 12.36 0 0 0 5.23 5.23 1 1 0 0 0 1.11-.22l.9-.9c.48.28 1 .48 1.5.6a1 1 0 0 1 .75 1V16.92z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
              +40770388369
            </a>
            <a class="btn" href="mailto:hello@zanellalounge.example" aria-label="Email Zanella Lounge">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 8.2v7.6a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 6H3v2.2l9 6 9-6V6z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
              zan15592@gmail.com
            </a>
          </div>
          <div style="margin-top:.4rem; display:flex; gap:.6rem; align-items:center; flex-wrap:wrap">
            <a class="btn btn-ghost" href="https://www.instagram.com/zanella_lounge/" aria-label="Instagram" target="_blank" rel="noopener">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 8.6a3.4 3.4 0 1 0 0 6.8 3.4 3.4 0 0 0 0-6.8z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.8 6.2h.01" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
             Instagram</a>
            <a class="btn btn-ghost" href="https://www.facebook.com/profile.php?id=61580371774552" aria-label="Facebook" target="_blank" rel="noopener">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M18 2h-3a4 4 0 0 0-4 4v3H8v4h3v7h4v-7h3l1-4h-4V6a1 1 0 0 1 1-1h3z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Facebook</a>
          </div>
        </div>
      </div>
  <div class="card reveal panel-card" style="padding:22px">
        <h3 style="margin-top:0">Visit</h3>
        <p>Strada Ciocarliei 15, Cluj‚ÄëNapoca</p>
        <p>Hotel Casa Alesiv - Franchise Partners</p>
        <p class="inline-note">Open Tue‚ÄìSun ¬∑ 17:00‚Äì01:00</p>
        <div style="height:220px; border-radius:14px; overflow:hidden; border:1px solid var(--line); background: linear-gradient(135deg, rgba(195,154,107,.18), rgba(135,167,122,.18)), url('https://images.unsplash.com/photo-1504805572947-34fad45aed93?q=80&w=1200&auto=format&fit=crop') center/cover"></div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap">
      <span>&copy; <span id="year"></span> Zanella Lounge</span>
      <span style="display:flex; gap:12px"><a href="https://www.instagram.com/zanella_lounge/">Instagram</a><a href="https://www.facebook.com/profile.php?id=61580371774552">Facebook</a></span>
    </div>
  </footer>

  <script>
    // Config ‚Äî we keep multiple slide sources but only display the primary one (no swapping)
    const SLIDES = [
      { title: "The Unique Social Lounge Experience", sub: "with focus on a warm and cozy atmosphere and an intimate experience", image: "assets/zanella_image_1.jpg" },
      { title: "Elevated Social. Effortless Vibe.", sub: "Concrete, wood, plants, and light ‚Äî built for connection.", image: "assets/zanella_image_2.jpg" },
      { title: "Smart Casual & Professional Setting", sub: "Refined space. Smart-casual nights. Your table, your people.", image: "assets/zanella_image_3.jpg" }
    ];
    const TICKET_URL = "https://your-ticketing-url.example.com";

    // Elements
    const heroMedia = document.getElementById('heroMedia');
    const heroHeadline = document.getElementById('heroHeadline');
    const heroSub = document.getElementById('heroSub');
    const ticketBtn = document.getElementById('ticketBtn');

    // Hero: mount single slide (primary image) and lightly animate it via CSS keyframes above.
    function mountSlides(){
      const primary = SLIDES[0];
      heroMedia.innerHTML = `<div class="slide" style="background-image:url('${primary.image}')"></div>`;
      heroHeadline.textContent = primary.title;
      heroSub.textContent = primary.sub;
    }

    // Reveal
    const io = new IntersectionObserver((entries)=>{ entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('visible'); io.unobserve(e.target); } }) }, {threshold:.14});
    function enableReveal(){ document.querySelectorAll('.reveal').forEach(el=> io.observe(el)); }

    // Smooth anchors
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', (e)=>{
        const id=a.getAttribute('href');
        if(id.length>1){
          e.preventDefault();
          const el=document.querySelector(id);
          if(el){
            el.scrollIntoView({behavior:'smooth', block:'start'});
            // If navigating to the menu section, open the embedded menu automatically
            if(id === '#menuSection'){
              setTimeout(()=>{ window.openEmbeddedMenu?.(); }, 420);
            }
          }
        }
      });
    });

    // Particles
    const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const canvas = document.getElementById('particles'); const ctx = canvas.getContext('2d');
    let W=0, H=0, particles=[], raf=null, particlesRunning=false;
    const MAX_LINKS_PER=3, LINK_DIST=110;
    function resize(){ W=canvas.width=window.innerWidth; H=canvas.height=window.innerHeight; if(particles.length){ particles.forEach(p=>{ p.x=Math.random()*W; p.y=Math.random()*H; }); } }
    window.addEventListener('resize', resize);
    function makeParticles(count=80){ particles = Array.from({length:count}, ()=>({ x:Math.random()*W, y:Math.random()*H, vx:(Math.random()-.5)*.35, vy:(Math.random()-.5)*.35, r:Math.random()*1.6+.8, c:Math.random()>.5?'rgba(195,154,107,.65)':'rgba(222,186,120,.7)', links:0 })); }
    function draw(){ ctx.clearRect(0,0, W,H); for(let i=0;i<particles.length;i++){ const p=particles[i]; p.links=0; for(let j=i+1;j<particles.length && p.links<MAX_LINKS_PER;j++){ const q=particles[j]; const dx=p.x-q.x, dy=p.y-q.y; const d=Math.hypot(dx,dy); if(d<LINK_DIST){ ctx.globalAlpha=(LINK_DIST-d)/LINK_DIST*.12; ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(q.x,q.y); ctx.strokeStyle='rgba(195,154,107,1)'; ctx.lineWidth=1; ctx.stroke(); ctx.globalAlpha=1; p.links++; } } }
      for(const p of particles){ p.x+=p.vx; p.y+=p.vy; if(p.x<0||p.x>W) p.vx*=-1; if(p.y<0||p.y>H) p.vy*=-1; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle=p.c; ctx.fill(); }
      raf=requestAnimationFrame(draw);
    }

    function startParticles(){ if(particlesRunning) return; resize(); makeParticles(window.innerWidth<640?50:90); if(!prefersReduced){ particlesRunning=true; draw(); } else { ctx.clearRect(0,0,W,H); for(const p of particles){ ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle=p.c; ctx.fill(); } } }
    function stopParticles(){ if(raf) cancelAnimationFrame(raf); raf=null; particlesRunning=false; }

    // Init
    window.addEventListener('DOMContentLoaded', ()=>{
      mountSlides(); enableReveal();
      const yearEl=document.getElementById('year'); if(yearEl) yearEl.textContent=new Date().getFullYear();
      if(ticketBtn) ticketBtn.href=TICKET_URL;
      startParticles();
    });

    // Visibility handling (only control particles since there is no rotator)
    document.addEventListener('visibilitychange', ()=>{ if(document.hidden){ stopParticles(); } else { startParticles(); } });

    // --- Minimal self-tests (run after load) ---
    function test(name, ok){ console[(ok?'log':'error')](`TEST ${ok?'PASS':'FAIL'}: ${name}`); }
    window.addEventListener('load', ()=>{
      test('SLIDES populated', SLIDES.length>=1);
      test('Hero slide mounted', document.querySelectorAll('.slide').length>=1);
      test('Particles canvas sized', canvas.width>0 && canvas.height>0);
    });

    // Embedded menu toggle (show/hide) ‚Äî class-based to enable smooth animation
    (function(){
      const btn = document.getElementById('menuToggleBtn');
      const panel = document.getElementById('embeddedMenu');
      if(!btn || !panel) return;

  function openMenu(){ panel.classList.add('open'); panel.setAttribute('aria-hidden','false'); btn.textContent='Hide Menu'; btn.setAttribute('aria-expanded','true'); panel.querySelectorAll('a,button')[0]?.focus(); }
  function closeMenu(){ panel.classList.remove('open'); panel.setAttribute('aria-hidden','true'); btn.textContent='Show Menu'; btn.setAttribute('aria-expanded','false'); btn.focus(); }
  // expose for programmatic control
  window.openEmbeddedMenu = openMenu;
  window.closeEmbeddedMenu = closeMenu;

      btn.addEventListener('click', ()=>{ panel.classList.contains('open')? closeMenu() : openMenu(); });

      // close on Escape
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && panel.classList.contains('open')) closeMenu(); });

      // click outside to close (respecting button)
      document.addEventListener('click', (e)=>{ if(!panel.classList.contains('open')) return; if(panel.contains(e.target) || btn.contains(e.target)) return; closeMenu(); });
    })();

    // Embedded pricing toggle (mirror of menu toggle)
    (function(){
      const btn = document.getElementById('pricingToggleBtn');
      const panel = document.getElementById('embeddedPricing');
      if(!btn || !panel) return;

  function openPricing(){ panel.classList.add('open'); panel.setAttribute('aria-hidden','false'); btn.textContent='Hide rental pricing'; btn.setAttribute('aria-expanded','true'); panel.querySelectorAll('a,button')[0]?.focus(); }
  function closePricing(){ panel.classList.remove('open'); panel.setAttribute('aria-hidden','true'); btn.textContent='Show rental pricing'; btn.setAttribute('aria-expanded','false'); btn.focus(); }
  window.openEmbeddedPricing = openPricing;
  window.closeEmbeddedPricing = closePricing;

      btn.addEventListener('click', ()=>{ panel.classList.contains('open')? closePricing() : openPricing(); });

      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && panel.classList.contains('open')) closePricing(); });
      document.addEventListener('click', (e)=>{ if(!panel.classList.contains('open')) return; if(panel.contains(e.target) || btn.contains(e.target)) return; closePricing(); });
    })();

    // Premium gold particle animation
    (function(){
      const canvas = document.getElementById('premiumCanvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let W=0, H=0, particles=[], rafId=null;

      function resizeCanvas(){ W=canvas.width = canvas.offsetWidth; H=canvas.height = canvas.offsetHeight; }

      function makeParticles(n=30){ particles = Array.from({length:n}, ()=>({ x: Math.random()*W, y: Math.random()*H, vx:(Math.random()-.5)*1.2, vy:(Math.random()*-.8)-.2, r: Math.random()*2 + 1, life: Math.random()*60 + 40 })); }

      function draw(){ ctx.clearRect(0,0,W,H); for(const p of particles){ p.x += p.vx; p.y += p.vy; p.life--; ctx.beginPath(); const g = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*6); g.addColorStop(0, 'rgba(255,243,210,0.95)'); g.addColorStop(0.2, 'rgba(255,223,130,0.9)'); g.addColorStop(0.6, 'rgba(195,154,107,0.28)'); g.addColorStop(1, 'rgba(195,154,107,0)'); ctx.fillStyle = g; ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); if(p.life<=0 || p.y< -20 || p.x< -20 || p.x>W+20){ Object.assign(p, { x: Math.random()*W, y: H + Math.random()*30, vx:(Math.random()-.5)*1.2, vy:(Math.random()*-.8)-.2, r: Math.random()*2 + 1, life: Math.random()*60 + 40 }); } }
        rafId = requestAnimationFrame(draw);
      }

      function start(){ if(rafId) return; resizeCanvas(); makeParticles(Math.max(18, Math.round((canvas.offsetWidth/300)*25))); draw(); window.addEventListener('resize', resizeCanvas); }
      function stop(){ if(rafId) cancelAnimationFrame(rafId); rafId=null; window.removeEventListener('resize', resizeCanvas); ctx.clearRect(0,0,canvas.width, canvas.height); }

      // Observe the embedded menu for open state
      const embedded = document.getElementById('embeddedMenu');
      if(!embedded) return;
      const mo = new MutationObserver((list)=>{
        for(const m of list){ if(m.attributeName==='class'){ const open = embedded.classList.contains('open'); if(open) start(); else stop(); } }
      });
      mo.observe(embedded, { attributes:true });
      // start if already open on load
      if(embedded.classList.contains('open')) start();
    })();
  </script>
</body>
</html>
